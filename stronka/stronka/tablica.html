<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="Description" content="" />
		<meta name="Keywords" content="" />
		<meta name="Author" content="" />
		<title>PyGanizer</title>
		
		<link type="text/css" href="./css/kalendarz.css" rel="stylesheet" media="screen" />

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="bootstrap/js/html5shiv.js"></script>
		<![endif]-->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
	</head>
	<body>
		<div style="cursor: default;height: auto;margin: 0 auto; padding: 0; width: 1366px;" id="strona">

			<div style="font-family: 'Dosis',sans-serif;font-size: 45px;font-style: normal;font-variant: normal;margin-left: 40px;margin-top: 10px;position:absolute;left:0px;">
			PyGanizer
			</div>
			<div style="clear:both;height:120px;"></div>
			<div id='content'>

				<a href='kalendarz.html'>	
					<div style='margin-top:425px;cursor:pointer;width:171px;height:118px;background:url("./img/kalendarz_miniatura.png");float:left;margin-left:110px;'>
					</div>
				</a>
			
				<div id='tablica' style='width:861px;height:552px;background:url("./img/tablica.png");float:right;margin-right:110px;'>

				</div>
				<div style='width:861px;height:55px;float:right;margin-right:110px;margin-top:4px;'>
					<div class="note mala_karteczka czerwony" style='width:65px;height:50px;background:url("./img/czerwona_mala.png");float:left;margin-left:0;'>
					</div>
					<div style='width:20px;height:50px;float:left;'>
					</div>
					<div class="note mala_karteczka czolty" style='width:65px;height:50px;background:url("./img/zolta_mala.png");float:left;'>
					</div>
					<div style='width:20px;height:50px;float:left;'>
					</div>
					<div class="note mala_karteczka czielony" style='width:65px;height:50px;background:url("./img/zielona_mala.png");float:left;'>
					</div>
					<div class='clear'></div>
				</div>
				
			</div>
		</div>
	</body>
</html>
<script type="text/javascript">
	var globalne_id = 3;// TUTAJ TRZEBA Z SERWRA ZAŁĄDOWAĆ najwięszke id karteczki + 1

	//funkcja dodaje średnią karteczką na tablicę
	function dodaj_srednia_karteczke(id,color_karteczki,tresc_karteczki,szerokosc,top_wysokosc){
		karteczka = document.createElement('div');
		karteczka.setAttribute('id','karteczka_'+id);//dajemy unilane id dla karteczki średniej
		karteczka.setAttribute('class',color_karteczki+' karteczka_srednia ui-draggable');
		
		skrocona_tresc_karteczki = '';
		for (i=0; i<55; i++) {
			skrocona_tresc_karteczki += tresc_karteczki.charAt(i);
		}
		skrocona_tresc_karteczki += '(...)';
		
		//wrzucamy html z obrazkami edycji i zamykania
		karteczka.innerHTML=
			'<img src="./img/wybor/tablica/edycja2.png" style="margin-top:10px;margin-right:5px;" onclick="dodaj_duza_karteczke('+id+');"/>'+
			'<img src="./img/wybor/tablica/zamykanie2.png" style="margin-top:10px;margin-right:15px;" onclick="zamknij_karteczke('+id+');"/>'+
			'<div style="text-align:left;margin-top:5px;margin-left:10px;width:184;height:70;">'+skrocona_tresc_karteczki+'</div>';	;	
		karteczka.style.cssText = 'text-align:right;position: absolute; left: '+szerokosc+'px;  top: '+top_wysokosc+'px; width:204px; height:158px; background:url("./img/karteczka_'+color_karteczki+'.png"); ';
		$('#tablica').append(karteczka);
	}

	//przykładowa tresc karteczki
	tresc_karteczki = "TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM "

	//AJAX (choć AJAX nie do końca wymagany) tutaj ładowanie danych z bazy karteczek
	dodaj_srednia_karteczke(0,'czerwona',tresc_karteczki,592,283);
	dodaj_srednia_karteczke(1,'zolta',tresc_karteczki,888,250);
	dodaj_srednia_karteczke(2,'zielona',tresc_karteczki,425,180);
		
		
	
	
	
	function refresh_draggable(){
		$(".karteczka_srednia").draggable({
			containment: "#tablica"
        });
		
        $(".note").draggable({ 
			containment: "#tablica",//nie wychodzenie poza tablicę
            stop: function(e, ui){
				if($(this).attr('class').indexOf('mala_karteczka')!=-1){ //tylko dla małej karteczki pod tablicą
				
					//dane do obliczeń
					czerwony_l = 0;//przesunięcie małego czerwonego wzlędem lewo-prawo
					zolty_l = -85;//itd
					zielony_l = -170;//itd
					wszystkie_d = -60;//przesunięcie wszyskich małych karteczek względem góra dół
					szerokosc = 785;//tablicy
					wysokosc = 550;//tablicy
					
					//wybór danych w zależnosci do koloru karteczki
					if($(this).attr('class').indexOf('czerwony')!=-1){
						wybrany_l = czerwony_l;
						color_karteczki = 'czerwona';
					}
					else if($(this).attr('class').indexOf('zolty')!=-1){
						wybrany_l = zolty_l;
						color_karteczki = 'zolta';
					}
					else if($(this).attr('class').indexOf('zielony')!=-1){
						wybrany_l = zielony_l;
						color_karteczki = 'zielona';
					}
					
					//sprawdzanie czy wysokość i szerokość karteczki/kursora są/jest w akceptowanych granicach
					if( wybrany_l <= ui.position.left &&  ui.position.left <= (wybrany_l+szerokosc))
						szer = true;
					else
						szer = false
					if( wszystkie_d >= ui.position.top &&  ui.position.top >= (wszystkie_d-wysokosc))
						wys = true;
					else
						wys = false

					//jeśli kursor jest w odwiednim miejscu tworzyny średnią karteczkę
					if(szer && wys){
						//AJAX tutaj czytanie z bazy danych i łądowanie ajaxem
						tresc_karteczki = "TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM "

						szerokosc = ui.position.left-wybrany_l+400;//oblczamy nową szerokosc globalnie
						if(szerokosc<0+400)
							szerokosc=0+400;
						if(szerokosc>655+400)
							szerokosc=655+400;	
							
						top_wysokosc = wysokosc+ui.position.top+120;//obliczemy nową wysokość globalnie
						if(top_wysokosc<0+120)
							top_wysokosc=0+120;
						if(top_wysokosc>400+120)
							top_wysokosc=400+120;
							
						dodaj_srednia_karteczke(globalne_id,color_karteczki,tresc_karteczki,szerokosc,top_wysokosc);
						
						globalne_id++;
						refresh_draggable();
					}
					$(this).css('left','0px');
					$(this).css('top','0px');
					
				}
            }
        });
	};
	refresh_draggable();
	
	
	//zamykanie średniej karteczki na ekranie
	function zamknij_karteczke(id){
		if(true){//AJAX tutaj dodać ajaxowe usuwanie
			$('#karteczka_'+id).remove();
		}
		else
			alert('nie udało się usunąć karteczki');
	}

	function dodaj_duza_karteczke(id){
		//pobieramy szerokość okna przeglądarki
		var szerokosc_przegladarki = 1366;
		if (document.body && document.body.offsetWidth)  szerokosc_przegladarki = document.body.offsetWidth;
		if (document.compatMode=='CSS1Compat' && document.documentElement && document.documentElement.offsetWidth )  szerokosc_przegladarki = document.documentElement.offsetWidth;
		if (window.innerWidth && window.innerHeight) szerokosc_przegladarki = window.innerWidth;
	
	
		duza_karteczka = document.createElement('div');				
		duza_karteczka.setAttribute('id','duza_karteczka_'+id);
		
		//AJAX tutaj czytanie z bazy danych i łądowanie ajaxem
		tresc_duzej_karteczki = "TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM TRESC POBRANA AJAXEM "
		
		duza_karteczka.innerHTML='<img src="./img/wybor/tablica/edycja.png" style="margin-top:10px;margin-right:5px;" onclick="edytuj_duza_kartke('+id+');"/>'+
							'<img src="./img/wybor/tablica/zamykanie.png" style="margin-top:10px;margin-right:15px;" onclick="zamknij_duza_karteczke('+id+');"/>'+
							'<div id="tresc_duzej_karteczki_'+id+'" style="text-align:left;margin-top:5px;margin-left:10px;width:536;height:auto;max-height:560px;overflow: auto;">'+tresc_duzej_karteczki+'</div>';	
		
		
		//wybór koloru
		if($('#karteczka_'+id).attr('class').indexOf('czerwona')!=-1)color_karteczki = 'czerwona';
		else if($('#karteczka_'+id).attr('class').indexOf('zolta')!=-1)color_karteczki = 'zolta';
		else if($('#karteczka_'+id).attr('class').indexOf('zielona')!=-1)color_karteczki = 'zielona';
		
		duza_karteczka.style.cssText = 'text-align:right;position: fixed; left: '+parseInt((szerokosc_przegladarki-556)/2)+'px;  top: 10px; width:556px; height:651px; background:url("./img/kartka_'+color_karteczki+'.png"); ';
						
		//dodajemy duża karteczkę
		$('#strona').append(duza_karteczka);
	}
	
	function zamknij_duza_karteczke(id){
		if(true){//AJAX tutaj dodać ajaxowe usuwanie albo zapisywanie czy coś
			$('#duza_karteczka_'+id).remove();
		}
		else
			alert('nie udało się usunąć karteczki');
	}
	
	function edytuj_duza_kartke(id){
		tresc = $('#tresc_duzej_karteczki_'+id).html();
		$('#duza_karteczka_'+id).html(
					'<img src="./img/wybor/tablica/dyskietka.png" style="margin-top:10px;margin-right:5px;" onclick="zapisz_duza_kartke('+id+');"/>'+
					'<img src="./img/wybor/tablica/zamykanie.png" style="margin-top:10px;margin-right:15px;" onclick="zamknij_duza_karteczke('+id+');"/>'+
					'<textarea id="tresc_duzej_karteczki_'+id+'" style="text-align:left;float:left;background-color:transparent;margin-top:5px;margin-left:10px;width:536;height:560px;max-height:560px;overflow: auto;">'+tresc+'</textarea>'
				);
	}
	
	function zapisz_duza_kartke(id){
		tresc = $('#tresc_duzej_karteczki_'+id).val();
		//AJAX tutaj trzeba sprawdzić czy są zmiany względem tego co jest w bazie danych i ewentualnie je zapisać
		$('#duza_karteczka_'+id).html(
			'<img src="./img/wybor/tablica/edycja.png" style="margin-top:10px;margin-right:5px;" onclick="edytuj_duza_kartke('+id+');"/>'+
			'<img src="./img/wybor/tablica/zamykanie.png" style="margin-top:10px;margin-right:15px;" onclick="zamknij_duza_karteczke('+id+');"/>'+
			'<div id="tresc_duzej_karteczki_'+id+'" style="text-align:left;margin-top:5px;margin-left:10px;width:536;height:auto;max-height:560px;overflow: auto;">'+tresc+'</div>'
		);
	}	

</script>